# Contributor: IOTech <support@iotechsys.com>
# Maintainer: IOTech <support@iotechsys.com>
pkgname=iotech-iot${DEV}-${PKG_VER}
pkgver="${VER}"
pkgrel=0
pkgdesc="IOT C Framework"
url="www.iotechsys.com"
arch="${OS_ARCH}"
license="Apache-2.0"
depends="util-linux-dev"
install=""
base="${pkgname}-${VER}_${OS_ARCH}"
source="${base}.tar.gz"
builddir="${srcdir}/"
options="!check !strip !tracedeps !fhs"

package() {
  cd ${builddir}
  dest=${pkgdir}/opt/iotech/iot
  mkdir -p ${dest}/lib
  cp ${base}/lib/lib*.* ${dest}/lib
  chmod 755 ${dest}/lib/*
  mkdir -p ${dest}/include/iot/
  if [ x${DEV} == "x-dev" ]
  then
    cp -r ${base}/include/* ${dest}/include/
    echo "Headers copied to dev package"
  fi
  mkdir -p ${dest}/examples
  cp -r ${base}/examples/* ${dest}/examples/
}
